<svg xmlns="http://www.w3.org/2000/svg" style="isolation:isolate;">

  <style id="config_styles">
  
    :root {

        --bg-mask: url(#fade_mask);
        --bg-fill: url(newsprint.jpg);
        --bg-filter: url(#shake);
        /*
        --bg-opacity: 0.85;
        */

        --border-width: 3px;

        /*
        --show-hearts: 1;
        --title-color: orange;
        --living-color: yellow;
        --things-color: blue;
        --circ1-color: green;
        --circ2-color: white;
        --heart-color: green;
        --square-color: purple;

        --border-color: red;
        --border-width: 9;

        --copy-color: brown;

        --outline-color: pink;
        */

    }
  </style>

  <style id="svg_styles">

    svg {
      background-image: var(--bg-fill, none);
      mask: var(--bg-mask, none);
    }
  
  </style>

  <style id="comic_styles">

    @font-face {
      font-family: 'Comic Neue';
      /* src: url('neue.ttf') format('truetype'); */
      src: url('ComingSoon.ttf') format('truetype');
    }
  
    text {
      font-family:'Comic Neue';
      font-weight: 400;
      font-size: 22px;
      fill: var(--text-color, var(--outline-color, #000));
    }
  
    .text-bubble {
      fill: none;
      stroke: var(--outline-color, #000);
      stroke-width: 1px;
    }

    .text-bubble + path {
      fill: var(--outline-color, #000);
    }

    #title_line {
      fill: var(--title-color, #000);
      height: 2px;
    }
    
    #copyright {
      font-family:'Times New Roman';
      font-weight: 300;
      font-size:17px;
      fill:var(--copy-color, var(--outline-color, #000));
    }

    .obj {
      fill: var(--outline-color, #000);
    }
  
    @media (orientation: portrait) {
      .land { display: none; }
      #title_line {width: calc(440px - 25px); }
    }
  
    @media (orientation: landscape) {
      .port { display: none; }
      #title_line { width: 1275px; }
    }
  
  </style>

  <style id="border_styles">

    .border {
     fill: none ;
     stroke: var(--border-color, var(--outline-color, #000));
     stroke-width: var(--border-width, 2); 
    }

    .slant {
      marker-start: url(#slant_cap);
      marker-end: url(#slant_cap);
    }

  </style>

  <defs id="pats_and_filters">

    <linearGradient id="fade" gradientUnits="objectBoundingBox">
      <stop offset="0%" stop-color="#000" stop-opacity="0"/>
      <stop offset="100%" stop-color="#000" />
    </linearGradient>

    <filter id="blur">
      <feGaussianBlur in="SourceGraphic" stdDeviation="0.3" />
    </filter>

    <filter id="shake" width="120%" height="220%" color-interpolation-filters="sRGB">
      <feImage href="newsprint.jpg" x="0" y="0" width="220%" height="120%" preserveAspectRatio="xMidYMid slice" result="mig" />
      <feDisplacementMap in="SourceGraphic" in2="mig" result="rat" scale="5" xChannelSelector="R" yChannelSelector="B" />
      <feGaussianBlur in="rat" stdDeviation="0.3" result="blur" />
      <!-- shift image back based on displacement's scale -->
      <feOffset in="blurred" dx="0.5" dy="5" result="final" />
    </filter>
    
    <pattern id="newsprint" patternUnits="userSpaceOnUse" width="100%" height="100%">
      <image href="newsprint.jpg" width="100%" height="100%" preserveAspectRatio="none" />
    </pattern>

    <pattern id="dots" viewBox="-2 -2 4 4" width="4" height="4"
     patternUnits="userSpaceOnUse" patternTransform="rotate(45) scale(1.5)">
     <circle r="1" fill="var(--outline-color, #000)" transform="scale(1.5)"/>
    </pattern>

  </defs>

  <defs id="clips_and_masks">

    <clipPath id="one_of_three_clip">
        <path d="M 0 0 H 400 V 400 H 0 Z"/>
    </clipPath>

    <mask id="fade_mask"
     maskUnits="objectBoundingBox"
     maskContentUnits="objectBoundingBox"
    >
      <linearGradient id="fade_gradient"
       x1="0%" y1="100%"
       x2="90%" y2="0%"
      >
        <stop offset="0%" stop-color="#fff" stop-opacity="1" />
        <stop offset="100%" stop-color="#fff" stop-opacity="0.4" />
      </linearGradient>
      <rect width="1" height="1" fill="url(#fade_gradient)" />
    </mask>

  </defs>

  <defs id="copyright_defs">
    <text id="copyright" transform="rotate(270)">
      <tspan letter-spacing="-0.04em">&#xA9;MCMLXXXVIII</tspan>
      <tspan letter-spacing="0.03em">&#xB7; Trilobyte</tspan>
    </text>
  </defs>
  
  <defs id="title_defs">
    <g id="title">
      <rect id="title_line" x="12.5" y="12.5" />
      <use href="title-test.svg#ikon" transform="translate(30 17) scale(2.5) " />
    </g>
  </defs>

  <defs id="border_defs">
    <path id="one_of_three_border" class="border" d=" M 0 0 H 400 V 400 H 0 Z " />
    <marker id="slant_cap" markerWidth="3" markerHeight="1"
            refX="1" refY="0.5" orient="auto-start-reverse" markerUnits="strokeWidth">
      <path d=" M 0 0 L 1 0 L 3 1 L 0 1 Z" fill="context-stroke"/>
    </marker>
  </defs>

  <defs id="panel_defs">

    <g id="panel_1">

      <g clip-path="url(#one_of_three_clip)">

        <g transform="translate(150 35)">
          <text text-anchor="middle">
            <tspan>How much 
              <tspan font-style="italic">sugar</tspan>
            is in</tspan>
            <tspan x="0" dy="1em">a batch of cookies?</tspan>
          </text>
        </g>
        <rect class="text-bubble" width="286" height="70" x="7" y="7" />
        <path d="m 30 77 h5 l 15 20 z " />

        <g transform="translate(28 115) scale(1)">
          <use href="buck.svg#lid_fill" />
          <use href="buck.svg#foot_fill" />
          <use href="buck.svg#logo_fill" />
          <use href="buck.svg#ikon" fill="green" />
        </g>

        <g transform="translate(215 102) scale(1)">
          <use href="#top_fill_small" fill="hsla(0, 90%, 20%, 0.8)" />
          <use href="#foot_fill" fill="hsla(0, 90%, 20%, 0.8)"  />
          <use href="morris-mask.svg#sigil_fill" fill="hsla(0, 90%, 20%, 0.8)"  />
          <use href="morris-mask.svg#ikon" />
        </g>

        <path class="obj" d=" M 10 370 Q 200 350 390 370 V 370 Q 200 365 10 370 Z" />

      </g>

      <use href="#one_of_three_border" />

    </g>

    <g id="panel_2">

      <mask id="top_fill_mask">
        <rect width="400" height="400" fill="#fff"/>
        <use href="morris-mask.svg#top_fill"
         transform="translate(125 5) scale(1.8)"
        />
      </mask>
      <!--
      <g mask="url(#top_fill_mask">
        <path data-sketch='{
          "fill" : "hsla(0,90%,20%,0.5)",
          "hachureGap" : 10
        }' d=" M 0 0 V 370 L 400 270 V0 Z "/>
      </g>
      -->

      <defs>
        <path id="top_fill_small" data-sketch='{
          "fill" : "hsla(0,90%,20%,0.5)",
          "hachureGap" : 5,
          "fillWeight" : 6 
        }' d=" M 39.721 99.353 C 42.65 64.338 48.535 34.793 51.367 27.444 C 72.62 24.494 92.76 15.718 124.327 4.811 C 131.435 19.301 142.665 32.291 146.031 45.8 L 132.538 71.386 C 135.645 73.557 137.415 76.136 137.813 79.085 C 132.956 95.812 123.95 117.471 111.052 147.233 L 119.577 197.02 L 98.624 219.768 C 83.143 202.376 69.387 188.121 57.319 176.966 C 52.547 185.451 49.856 193.226 49.21 200.254 L 40.394 155.436 L 60.611 156.612 L 79.169 144.341 L 72.469 101.872 C 65.807 102.694 51.141 102.04 39.721 99.353 L 39.721 99.353 Z " />
        <path id="top_fill" data-sketch='{
          "fill" : "hsla(0,90%,20%,0.5)",
          "hachureGap" : 10,
          "fillWeight" : 10
        }' d=" M 39.721 99.353 C 42.65 64.338 48.535 34.793 51.367 27.444 C 72.62 24.494 92.76 15.718 124.327 4.811 C 131.435 19.301 142.665 32.291 146.031 45.8 L 132.538 71.386 C 135.645 73.557 137.415 76.136 137.813 79.085 C 132.956 95.812 123.95 117.471 111.052 147.233 L 119.577 197.02 L 98.624 219.768 C 83.143 202.376 69.387 188.121 57.319 176.966 C 52.547 185.451 49.856 193.226 49.21 200.254 L 40.394 155.436 L 60.611 156.612 L 79.169 144.341 L 72.469 101.872 C 65.807 102.694 51.141 102.04 39.721 99.353 L 39.721 99.353 Z " />

        <path id="foot_fill" data-sketch='{
          "fill" : "hsla(0,90%,20%,0.5)",
          "hachureAngle" : 70,
          "hachureGap" : 5,
          "fillWeight" : 6 
        }' d=" M 7.229 233.971 L 26.949 231.014 L 39.381 236.628 C 56.134 242.782 75.651 246.024 96.811 248.015 L 124.145 253.634 L 124.145 266.123 L 94.65 264.263 L 31.675 259.214 L 7.229 233.971 L 7.229 233.971 Z " fill="url(#dotz)" x-fill="rgb(152,0,0)"/>
      </defs>

      <g clip-path="url(#one_of_three_clip">

        <g transform="translate(90 42)">
          <text text-anchor="middle">
            <tspan font-size="40">One cup.</tspan>
          </text>
        </g>

        <g transform="translate(125 5) scale(1.8)">
          <use href="#top_fill" fill="hsla(0,90%,20%,0.7)" />
          <use href="morris-mask.svg#sigil_fill" fill="hsla(0,90%,20%,0.7)" />
          <use href="morris-mask.svg#ikon" />
        </g>

        <mask id="morris_mask">
          <rect width="400" height="400" fill="#fff"/>
          <g transform="translate(125 5) scale(1.8)">
          <use href="morris-mask.svg#top_fill"/>
          <use href="morris-mask.svg#bottom_fill"/>
          </g>
        </mask>

        <path class="obj" d=" M 0 370 L 400 270 V400 H 0 Z " mask="url(#morris_mask)" />

      </g>

      <!-- <use href="#one_of_three_border" />
      -->

    </g>

    <g id="panel_3">

      <g clip-path="url(#one_of_three_clip">

        <g transform="translate(115 37)">
          <text text-anchor="middle">
            <tspan font-weight="bold" font-size="30">
              The <tspan font-style="italic">porn</tspan> star?
            </tspan>
          </text>
        </g>
        <rect class="text-bubble" x="3" y="4"
         width="230" height="50" style="stroke-width:3px"/>
        <path d="M 40 54 h 7 l 15 25 z" />

        <g transform="translate(28 55) scale(1.9)">
          <use href="buck.svg#lid_fill" />
          <use href="buck.svg#logo_fill" />
          <use href="buck.svg#ikon" />
        </g>

      </g>

       <path class="border slant" d="
          M 280 8 H 400 V 400 H 8 V 80  
        "/>
      <!-- <use href="#one_of_three_border" />
      -->

    </g>

  </defs>

  <g id="haxxor" style="
    filter: var(--bg-filter, none);
    opacity: var(--bg-opacity, 1);
  ">

  <svg class="land" viewBox="0 0 1300 520">

    <use href="#title"/>
    <g transform="translate(0 80)">
      <use href="#copyright" transform="translate(1267 395)" />
      <use href="#panel_1" transform="translate(25 0)" />
      <use href="#panel_2" transform="translate(450 0)" />
      <use href="#panel_3" transform="translate(875 0)" />
    </g>

  </svg>

  <svg class="port" viewBox="0 0 440 1380"> 
    <use href="#title" />
    <g transform="translate(0 80)">
      <use href="#copyright" transform="translate(416 1235)" />
      <use href="#panel_1" transform="translate(20 0)" />
      <use href="#panel_2" transform="translate(20 420)" />
      <use href="#panel_3" transform="translate(20 840)" />
    </g>
  </svg>
  
  </g>

</svg>