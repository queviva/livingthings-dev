<html>
<head><title>LivingThings&trade;</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" href="favicon.ico">

<style>
  body, div, object {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  
  object {
      width: 100%;
      height: auto;
  }
  
  object:not([data-cred]) {
    margin-bottom: 50px;
  }
  
  div.cred {
    padding: 3px;
    height: 50px;
    width: 100%;
    font-family: 'Times New Roman';
    font-size: 8px;
    font-style: italic;
    font-weight: 100;
    text-align: right;
  }
  
</style>
</head>
<body>

  <div>
    <object type="image/svg+xml" data="title001.svg"
     style="padding: 5px;"
     data-stys="--title-color:#900;"
    ></object>
    <object data-stys="
        --x-bg-fill: #909;
    " data-port="P1" type="image/svg+xml" data="comics/horz-layout.svg"></object>
    <object data-stys="--show-hearts: 0;" data-port="P2" type="image/svg+xml" data="comics/scroll-master.svg"></object>
    <object data="comics/comic000.svg"></object>
    <object data-port="P2" data-cred type="image/svg+xml" data="comics/lids.svg"></object>
    <div class="cred">(The Wheeling Daily Scoundrel)</div>
    <object data-stys="
        --show-hearts : 0;
        --outline-color : #909;
    " type="image/svg+xml" data="comics/lids.svg"></object>
    <object type="image/svg+xml" data="comics/stPattys2025.svg"></object>
    <object data-cred data-port="P3" type="image/svg+xml" data="comics/samp-three-panel.svg"></object>
    <div class="cred">(The Wheeling Daily Scoundrel)</div>
    <object type="image/svg+xml" data="comics/hexapoid.svg"></object>
    <object data-port="P2" type="image/svg+xml" data="comics/donut-invite.svg"></object>
  </div>
  
<script>

document.addEventListener('DOMContentLoaded', () => {

    const log = console.log;

    const portConfigs = {
        P1: {
            port: '0 0 650 882.5',
            land: '0 0 1300 480'
        },
        P2: {
            port: '0 0 650 882.5',
            land: '0 0 1300 480'
        },
        P3: {
            port: '0 0 434 1260',
            land: '0 0 1300 480'
        }
    };

    const getOrientation = () => {
        return window.innerHeight >= window.innerWidth ? 'port' : 'land';
    };

    const updateViewBox = (obj, val) => {
        obj.contentDocument.querySelector('svg').setAttribute('viewBox', val);
    };

    const updatePorts = (portType) => {
        const viewBoxVal = portConfigs[portType][getOrientation()];
        const ports = document.querySelectorAll(`[data-port="${portType}"]`);
        ports.forEach(obj => updateViewBox(obj, viewBoxVal));
    };

    const handleLoad = (portType, obj) => {
        const viewBoxVal = portConfigs[portType][getOrientation()];
        updateViewBox(obj, viewBoxVal);
    };

    ['P1', 'P2', 'P3'].forEach(portType => {
        const ports = document.querySelectorAll(`[data-port="${portType}"]`);

        ports.forEach(obj => {
            if (obj.contentDocument.documentElement.querySelector('svg')) {
                handleLoad(portType, obj);
            } else {
                obj.addEventListener('load', () => handleLoad(portType, obj), {once: true});
            }
        });

        window.addEventListener('resize', () => updatePorts(portType));
        window.addEventListener('orientationchange', () => updatePorts(portType));
    });


    const stys = document.querySelectorAll('[data-stys]');

    const loadStys = obj => {
        obj.dataset.stys.replace(/\s/g, '').split(';').filter(Boolean).forEach(v => {
            const [a, b] = v.split(':');
            obj.contentDocument.documentElement.style.setProperty(a, b);
        });
    };

    stys.forEach(obj => {
        if(obj.contentDocument.querySelector('svg')) {
            loadStys(obj);
        } else {
            obj.addEventListener('load', () => {loadStys(obj)}, {once: true});
        }
    });

});

</script>
</body>
</html>