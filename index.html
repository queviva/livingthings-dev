<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link id="next_link" rel="prefetch" href="comics/scroll-master.svg" />
  <title>Living Things&trade;</title>
  <script src="sketch.js"></script>
  <!-- <script src="paper-full.min.js"></script> -->
  <script type="module" src="pattern-master.js"></script>
  <style>
    html,
    body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      background-image: url(comics/newsprint.jpg);
      /* background-color: orange; */
    }

    object {
      display: block;
      position: absolute;
      padding: 0;
      margin: 0;
      width: 100%;
      height: 100%;
      transform-origin: center;
      pointer-events: none;
    }

  </style>

</head>

<body>
  <object id="svg_object" type="image/svg+xml"></object>

  <script>

    const list = [
      ['comics/living-things-intro00.svg', '', ''],
      ['comics/scroll-master.svg', '', ''],
      ['comics/snow-pepper.svg','',''],
      ['comics/pencil-vania.svg', '', ''],
      ['comics/one-cup.svg', '', ''],
      ['comics/berry-little-breakfast.svg', '', ''],
      ['comics/handicap-T.svg', '', ''],
      ['comics/egger-please.svg', '', ''],
      ['comics/b-town-strangler.svg', '', ''],
      ['comics/pop-house.svg', '', ''],
      ['comics/lamp-layout.svg', '', ''],
      ['comics/title-heart-rect.svg', '', '']
    ];

    let index = 0;
    const obj = document.getElementById('svg_object');
    const nxt = document.getElementById('next_link');

    const swap = v => {
      index = (((index + v) % list.length) + list.length) % list.length;
      obj.type = list[index][1] || 'image/svg+xml';
      obj.data = list[index][0];
      nxt.href = list[(index + 1) % list.length][0];
    };

    swap(0);

    document.addEventListener('pointerup', e => {

      const perc = window.innerHeight >= window.innerWidth 
        ? e.clientY / window.innerHeight
        : e.clientX / window.innerWidth;
       
      perc < 0.25 ? swap(-1) :
      perc > 0.75 ? swap(1) : null

    });

  </script>


</body>